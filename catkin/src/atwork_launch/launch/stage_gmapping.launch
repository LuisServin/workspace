<launch>
	<arg name="wordfile_path" value="$(find stage_ros)/world/willow-erratic.world" />
	<arg name="joy_dev" default="/dev/input/js1" />
	<arg name="joy_config" default="xbox" />

	<node pkg="joy" type="joy_node" name="joy_node">
   		<param name="dev" value="$(arg joy_dev)" />
   		<param name="deadzone" value="0.3" />
   		<param name="autorepeat_rate" value="20" />
	</node>

	<node pkg="teleop_twist_joy" type="teleop_node" name="teleop_twist_joy">
   		<rosparam command="load" file="$(find teleop_twist_joy)/config/$(arg joy_config).config.yaml" />
	</node>

	<node pkg="stage_ros" type="stageros" name="stageros_node" args="-g $(arg wordfile_path)"/>

	<node pkg="rviz" type="rviz" name="rviz" args="-d $(find atwork_launch)/rviz_cfg/Stage.rviz" />

	<node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" output="screen">
		<remap from="scan" to="base_scan"/>
		<param name="~base_frame" value="base_footprint" />
		<param name="~map_frame" value="map"/>
	</node>

	<node pkg="using_markers" type="basic_shapes" name="basic_shapes" />
	<!--
	<node pkg="hector_mapping" type="hector_mapping" name="hector_mapping" output="screen">
		<remap from="scan" to="base_scan" />
		<param name="pub_map_odom_transform" value="true"/>
    	<param name="map_frame" value="map" />
    	<param name="base_frame" value="base_footprint" />
    	<param name="odom_frame" value="odom" />
	</node>
	-->
</launch>